# Free Kick Master Product Requirements Document (PRD)

## Goals and Background Context

### Goals

- Створити браузерну аркадну футбольну гру, що запускається за посиланням без встановлення
- Забезпечити стабільну роботу в останній версії Google Chrome (десктоп обов'язково, мобільна підтримка бажано)
- Реалізувати 5 рівнів з поступовим ускладненням геймплею
- Впровадити систему винагород (монети) з чітким UI, що показує причини нагород
- Створити магазин екіпірування (форма та м'ячі) для використання зароблених монет
- Забезпечити інтуїтивне управління мишкою для виконання ударів
- Забезпечити послідовне відкриття рівнів з відображенням прогресу
- Дотримуватися вимог хакатону: без токсичного контенту, Web/WebGL технології

### Background Context

"Free Kick Master" — браузерна аркадна футбольна гра для хакатону, де гравець виконує серії штрафних ударів. Гра розробляється як веб-додаток, що запускається в браузері без встановлення, з обов'язковою підтримкою Chrome (десктоп) та бажаною мобільною підтримкою.

Геймплей: 5 рівнів з поступовим ускладненням (статичні ворота → воротар → стінка → рухома стінка → рухомі мішені). На кожному рівні гравець виконує 5 ударів, заробляє монети за голі та влучання в мішені, витрачає їх у магазині на форму та м'ячі. Система винагород має бути зрозумілою через UI та підказки.

Гра орієнтована на швидкий геймплей, поступове ускладнення та колекціонування екіпірування. Відповідає вимогам хакатону: Web/WebGL технології, система винагород, без токсичного контенту.

### Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024 | 1.0 | Початкова версія PRD на основі ТЗ та вимог хакатону | BMad Master |

## Requirements

### Functional

**FR1:** Гра має запускатися в браузері за посиланням без встановлення додаткових плагінів  
**FR2:** Гра має стабільно працювати в останній версії Google Chrome на десктопі  
**FR3:** Гра має підтримувати мобільні пристрої (бажано, не обов'язково)  
**FR4:** Гравець має мати можливість обирати рівень з меню рівнів (якщо попередній рівень пройдено)  
**FR5:** На кожному рівні гравець має виконувати рівно 5 штрафних ударів  
**FR6:** Гравець має керувати ударом через рух мишкою (сила, напрям, крива траєкторія)  
**FR7:** Гра має відображати лічильник ударів (поточний/загальний, наприклад 1/5)  
**FR8:** Гра має оцінювати результат кожного удару: гол, влучання в мішень, або промах  
**FR9:** За гол гравець має отримувати 10 монет  
**FR10:** За влучання в мішень (якщо мішень присутня) гравець має отримувати 5 монет  
**FR11:** За промах гравець має отримувати 0 монет  
**FR12:** Після завершення 5 ударів гравець має отримувати бонус 5 монет за проходження рівня  
**FR13:** Гра має відображати поточну кількість монет гравця в ігровому інтерфейсі  
**FR14:** Рівень 1 має містити тільки м'яч і статичні ворота без перешкод  
**FR15:** Рівень 2 має містити воротаря, який реагує на удари і стрибає у відповідний кут  
**FR16:** Рівень 3 має містити стінку з 3-5 гравців перед м'ячем  
**FR17:** Рівень 4 має містити рухому стінку, яка рухається вліво/вправо з постійною швидкістю  
**FR18:** Рівень 5 має містити рухомі мішені у воротах або навколо них  
**FR19:** Гравець має мати доступ до магазину форми з різними комплектами (базові, рідкісні, преміум)  
**FR20:** Гравець має мати доступ до магазину м'ячів з різними типами (класичний, золотий, важкий, легкий тощо)  
**FR21:** Гравець має мати можливість купувати екіпірування за зароблені монети  
**FR22:** Гравець має мати можливість використовувати куплену форму та м'ячі в грі  
**FR23:** Рівні мають відкриватися послідовно (наступний рівень доступний після проходження попереднього)  
**FR24:** Меню рівнів має відображати кількість зароблених монет на кожному рівні  
**FR25:** Гравець має мати можливість перезапустити поточний рівень через кнопку рестарту  
**FR26:** Головне меню має містити опції: Старт гри, Магазин, Налаштування, Профіль гравця  
**FR27:** Гра має зберігати прогрес гравця (пройдені рівні, зароблені монети, куплене екіпірування)  
**FR28:** Гра має відображати чіткі повідомлення про те, за що гравець отримує винагороду (гол, мішень, проходження рівня)  
**FR29:** Гра має мати систему підказок, що пояснюють систему винагород

### Non Functional

**NFR1:** Гра має працювати в останній версії Google Chrome без додаткових плагінів  
**NFR2:** Гра має використовувати Web або WebGL технології для рендерингу  
**NFR3:** Гра має завантажуватися за розумний час (ціль: < 5 секунд на середньостатистичному з'єднанні)  
**NFR4:** Гра має працювати плавно з мінімальними затримками (ціль: 60 FPS на середньостатистичному десктопі)  
**NFR5:** Гра має бути адаптивною для різних розмірів екрану (десктоп обов'язково, мобільні бажано)  
**NFR6:** Гра не має містити сексизму, расизму, політики та токсичного контенту  
**NFR7:** Збереження прогресу має працювати надійно (використання localStorage або подібного механізму)  
**NFR8:** Гра має мати інтуїтивний інтерфейс, зрозумілий без інструкцій  
**NFR9:** Гра має коректно обробляти помилки та не падати при несподіваних діях гравця  
**NFR10:** Гра має бути оптимізована для продуктивності в браузері (мінімізація використання пам'яті та CPU)

## User Interface Design Goals

### Overall UX Vision

Інтерфейс має бути мінімалістичним, щоб не відволікати від геймплею. Акцент на 3D полі, м'ячі та воротах. Інформація про монети, лічильник ударів та кнопки управління розміщені так, щоб не закривати поле. Переходи між екранами плавні. Система винагород має бути зрозумілою: чіткі повідомлення про зароблені монети та причини нагород. Звукові ефекти та музика підсилюють ігровий досвід.

### Key Interaction Paradigms

1. Управління мишкою: рух визначає силу, напрям і траєкторію удару. Візуальна індикація траєкторії перед ударом (лінія або дуга в 3D просторі).
2. Клік для виконання удару після вибору траєкторії.
3. Навігація: кнопки та меню з чітким призначенням.
4. Візуальний фідбек: анімації голів, влучань, промахів, збільшення монет.
5. Аудіо фідбек: звукові ефекти для ударів, голів, влучань, промахів, отримання монет.
6. Музика: фонова музика в меню для створення атмосфери.
7. Прогрес: візуальне відображення пройдених рівнів та доступних.

### Core Screens and Views

1. Головне меню — екран з опціями: Старт гри, Магазин, Налаштування, Профіль (з фоновою музикою)
2. Меню рівнів — сітка з 5 рівнями, показ статусу (замкнений/відкритий), зароблені монети на рівні
3. Ігровий екран — 3D поле, ворота, м'яч, перешкоди, HUD (лічильник ударів, монети, кнопка рестарту), звукові ефекти
4. Екран результату рівня — підсумок (голів, монет), кнопки "Наступний рівень", "Повторити", "В меню"
5. Магазин форми — каталог комплектів з цінами, попередній перегляд, кнопка покупки
6. Магазин м'ячів — каталог м'ячів з цінами, попередній перегляд, кнопка покупки
7. Профіль гравця — загальна статистика, куплене екіпірування, прогрес

### Accessibility: None

Для MVP хакатону доступність не є пріоритетом. Можна додати базові покращення пізніше (наприклад, підтримку клавіатури).

### Branding

Футбольна тематика: зелений газон, білі лінії поля, білі ворота. Яскраві, контрастні кольори для монет та винагород. Стиль гри: 3D графіка з фіксованою камерою для кращого вигляду та сприйняття геймплею. Логотип/назва "Free Kick Master" на головному меню.

### Target Device and Platforms: Web Responsive

Десктоп обов'язково (Chrome), мобільна підтримка бажана. Адаптивний дизайн: на десктопі — управління мишкою, на мобільних — тач-жести. Мобільна версія може мати спрощений інтерфейс. 3D рендеринг оптимізований для продуктивності в браузері.

## Technical Assumptions

### Repository Structure: Monorepo

Проєкт буде в одному репозиторії з усіма файлами (код, документація, конфігурація). Структура: `src/` для коду, `docs/` для документації, `public/` для статичних ресурсів, `README.md` з описом гри, системи винагород, технологій та інструкцією для локального запуску.

### Service Architecture

Монолітна архіструктура: один веб-додаток без backend. Вся логіка на клієнті (JavaScript/TypeScript). Збереження прогресу через localStorage. Статичний hosting для deployment (GitHub Pages, Vercel, Netlify).

### Testing Requirements

Unit Only: базові unit-тести для критичної логіки (розрахунок траєкторії, система винагород, збереження прогресу). Інтеграційні та E2E тести не обов'язкові для MVP хакатону.

### Additional Technical Assumptions and Requests

**Технології:**
- WebGL для 3D рендерингу (Three.js або подібна бібліотека)
- JavaScript/TypeScript для логіки
- HTML5 Canvas або WebGL для рендерингу
- CSS для UI стилізації
- Web Audio API для звуку та музики

**Deployment:**
- Статичний hosting (GitHub Pages, Vercel, Netlify, або подібний)
- Працююче посилання для демонстрації в Chrome
- Автоматичний deployment з репозиторію (бажано)

**Документація (вимоги хакатону):**
- README.md з коротким описом гри
- Опис системи винагород в README
- Список використаних технологій
- Інструкція для локального запуску

**Збереження даних:**
- localStorage для збереження прогресу (пройдені рівні, монети, куплене екіпірування)
- Дані зберігаються локально в браузері

**Продуктивність:**
- Оптимізація 3D моделей та текстур для швидкого завантаження
- Lazy loading для ресурсів
- Мінімізація розміру бандлу

**Браузерна сумісність:**
- Пріоритет: Chrome (останній реліз)
- Бажано: базова підтримка інших сучасних браузерів

**Аудіо:**
- Web Audio API або HTML5 Audio для звукових ефектів та музики
- Формати: MP3 або OGG для сумісності
- Контроль гучності в налаштуваннях

**3D графіка:**
- Three.js (рекомендовано) або Babylon.js для 3D рендерингу
- Фіксована камера з оптимальним кутом огляду
- Оптимізація для 60 FPS

## Epic List

**Epic 1: Foundation & Core Infrastructure**  
Встановити базову інфраструктуру проєкту (репозиторій, структура, залежності), налаштувати 3D рендеринг з Three.js, створити базову сцену з полем та м'ячем, налаштувати deployment для демонстрації.

**Epic 2: Core Gameplay - Basic Free Kick**  
Реалізувати базовий геймплей: управління мишкою для удару, фізику м'яча та траєкторію, статичні ворота, систему оцінювання (гол/промах), Рівень 1 з 5 ударами, базовий HUD (лічильник ударів, монети).

**Epic 3: Advanced Levels & Obstacles**  
Додати рівні 2-5 з різними перешкодами (воротар, стінка, рухома стінка, рухомі мішені), систему послідовного відкриття рівнів, меню вибору рівня, збереження прогресу через localStorage.

**Epic 4: Reward System & Shop**  
Реалізувати систему винагород (монети за голі, мішені, проходження рівня), магазин форми з різними комплектами, магазин м'ячів з різними типами, використання купленого екіпірування в грі, збереження покупок.

**Epic 5: UI/UX Polish & Audio**  
Створити головне меню з навігацією, екрани результатів рівня, профіль гравця, додати звукові ефекти для всіх ігрових подій, фонову музику в меню, покращити візуальні ефекти та анімації, додати налаштування (гучність).

**Epic 6: Documentation & Final Deployment**  
Створити README.md з описом гри, системи винагород, списком технологій та інструкцією для локального запуску, налаштувати фінальний deployment з працюючим посиланням, підготувати матеріали для презентації.

## Epic 1: Foundation & Core Infrastructure

**Розширена мета:** Встановити базову інфраструктуру проєкту: репозиторій, структуру папок, залежності (Three.js, build tools). Налаштувати 3D рендеринг з базовою сценою (поле, м'яч, камера). Налаштувати deployment (GitHub Pages/Vercel/Netlify) для демонстрації. Це забезпечує основу для подальшої розробки та дозволяє показати працюючу демо-версію.

### Story 1.1: Project Setup & Repository Structure

**As a** developer,  
**I want** налаштувати структуру проєкту та репозиторій,  
**so that** я маю основу для розробки та можу відстежувати зміни коду.

**Acceptance Criteria:**
1. Створено репозиторій на GitHub/GitLab/Bitbucket
2. Налаштована базова структура папок (src/, public/, docs/, assets/)
3. Додано .gitignore для Node.js/веб-проєктів
4. Створено package.json з базовими метаданими проєкту
5. Налаштовано базовий build tool (Vite, Webpack, або подібний)
6. Створено базовий index.html файл
7. Проєкт запускається локально через npm/yarn команду

### Story 1.2: Three.js Integration & Basic 3D Scene

**As a** developer,  
**I want** інтегрувати Three.js та створити базову 3D сцену,  
**so that** я маю основу для 3D рендерингу гри.

**Acceptance Criteria:**
1. Three.js встановлено як залежність
2. Створено базовий Three.js scene з renderer, camera, та scene об'єктами
3. Налаштовано фіксовану камеру з оптимальним кутом огляду (вид збоку/зверху на поле)
4. Додано базове освітлення (ambient + directional light)
5. Створено простий зелений plane як поле (газон)
6. Додано білі лінії поля (lines або geometry)
7. Сцена рендериться в браузері без помилок
8. FPS стабільний (60 FPS на середньостатистичному десктопі)

### Story 1.3: Basic Game Objects (Ball & Goal)

**As a** developer,  
**I want** створити базові ігрові об'єкти (м'яч та ворота),  
**so that** я маю візуальну основу для геймплею.

**Acceptance Criteria:**
1. Створено 3D модель м'яча (sphere geometry) з базовою текстурою
2. М'яч розміщено на полі в позиції для штрафного удару
3. Створено 3D модель воріт (box geometry) з білою текстурою
4. Ворота розміщено на одному кінці поля
5. М'яч та ворота видимі в сцені
6. Розміри та позиції пропорційні та реалістичні

### Story 1.4: Deployment Setup

**As a** developer,  
**I want** налаштувати deployment для статичного hosting,  
**so that** я можу демонструвати працюючу версію гри за посиланням.

**Acceptance Criteria:**
1. Налаштовано GitHub Pages, Vercel, Netlify, або подібний статичний hosting
2. Налаштовано автоматичний deployment з main/master гілки (бажано)
3. Створено працююче посилання на deployed версію
4. Deployed версія відкривається в Chrome без помилок
5. Всі статичні ресурси (JS, CSS, assets) завантажуються коректно
6. Додано посилання на deployment в README.md (базова версія)

## Epic 2: Core Gameplay - Basic Free Kick

**Розширена мета:** Реалізувати базовий геймплей: управління мишкою для вибору сили, напряму та траєкторії удару; фізика м'яча з траєкторією; система оцінювання (гол/промах); Рівень 1 з 5 ударами; базовий HUD (лічильник ударів, монети). Це забезпечує повноцінний геймплей для першого рівня.

### Story 2.1: Mouse Control for Kick Direction & Power

**As a** player,  
**I want** керувати ударом через рух мишкою,  
**so that** я можу вибирати напрям, силу та траєкторію удару.

**Acceptance Criteria:**
1. Рух мишкою по полю визначає напрям удару
2. Відстань від м'яча до позиції миші визначає силу удару
3. Візуальна індикація траєкторії (лінія або дуга) відображається під час руху мишкою
4. Клік мишкою виконує удар з обраними параметрами
5. Траєкторія розраховується з урахуванням фізики (гравітація, опір повітря)
6. Індикація траєкторії оновлюється в реальному часі під час руху мишкою

### Story 2.2: Ball Physics & Trajectory

**As a** player,  
**I want** щоб м'яч рухався по реалістичній траєкторії після удару,  
**so that** гра виглядає реалістично та передбачувано.

**Acceptance Criteria:**
1. М'яч рухається по параболічній траєкторії після удару
2. Фізика враховує гравітацію та початкову швидкість
3. М'яч обертається під час польоту (опціонально, для візуального ефекту)
4. М'яч зупиняється після досягнення землі або воріт
5. Колізія м'яча з землею обробляється коректно
6. Анімація руху м'яча плавна (60 FPS)

### Story 2.3: Goal Detection & Scoring System

**As a** player,  
**I want** щоб гра визначала, чи забив я гол,  
**so that** я можу отримувати винагороди за успішні удари.

**Acceptance Criteria:**
1. Система визначає, чи м'яч перетнув лінію воріт
2. Гол засчитыється, якщо м'яч перетнув лінію воріт між стійками та під перекладиною
3. Відображається візуальне повідомлення про гол (текст або анімація)
4. Промах визначається, якщо м'яч не потрапив у ворота
5. Відображається візуальне повідомлення про промах
6. Результат кожного удару зберігається для підрахунку

### Story 2.4: Level 1 - Basic Free Kick (5 Kicks)

**As a** player,  
**I want** виконувати 5 штрафних ударів на рівні 1,  
**so that** я можу грати повний рівень та заробляти монети.

**Acceptance Criteria:**
1. Рівень 1 містить тільки м'яч, статичні ворота та поле (без перешкод)
2. Гравець виконує рівно 5 ударів на рівні
3. Після кожного удару м'яч повертається в початкову позицію
4. Після 5 ударів рівень завершується
5. Відображається екран результату рівня з підсумком
6. Гравець може перезапустити рівень через кнопку рестарту

### Story 2.5: Basic HUD (Kick Counter & Coins)

**As a** player,  
**I want** бачити поточний прогрес та зароблені монети,  
**so that** я розумію свій прогрес та винагороди.

**Acceptance Criteria:**
1. Відображається лічильник ударів у форматі "X/5" (поточний/загальний)
2. Лічильник оновлюється після кожного удару
3. Відображається поточна кількість монет гравця
4. Монети оновлюються після кожного удару (якщо є винагорода)
5. HUD елементи не закривають ігрове поле
6. HUD елементи стилізовані та читабельні

### Story 2.6: Coin Reward System (Basic)

**As a** player,  
**I want** отримувати монети за голі,  
**so that** я можу використовувати їх для покупок.

**Acceptance Criteria:**
1. За гол гравець отримує 10 монет
2. За промах гравець отримує 0 монет
3. Монети додаються до загальної кількості після кожного удару
4. Відображається візуальне повідомлення про отримані монети (+10 монет)
5. Після завершення рівня (5 ударів) гравець отримує бонус 5 монет
6. Загальна кількість монет зберігається між сесіями (localStorage)

## Epic 3: Advanced Levels & Obstacles

**Розширена мета:** Додати рівні 2-5 з різними перешкодами та ускладненнями, систему послідовного відкриття рівнів, меню вибору рівня, збереження прогресу.

**Stories:**
- **Story 3.1:** Рівень 2 - Воротар (реакція на удари, стрибки)
- **Story 3.2:** Рівень 3 - Стінка з 3-5 гравців
- **Story 3.3:** Рівень 4 - Рухома стінка (рух вліво/вправо)
- **Story 3.4:** Рівень 5 - Рухомі мішені (додаткові монети за влучання)
- **Story 3.5:** Меню рівнів (сітка, статус, зароблені монети)
- **Story 3.6:** Послідовне відкриття рівнів (перевірка прогресу)
- **Story 3.7:** Збереження прогресу (localStorage)

## Epic 4: Reward System & Shop

**Розширена мета:** Реалізувати систему винагород (монети за мішені, бонус за рівень), магазини форми та м'ячів, використання купленого екіпірування.

**Stories:**
- **Story 4.1:** Розширена система винагород (мішені +5 монет, бонус +5 за рівень)
- **Story 4.2:** Магазин форми (каталог, ціни, попередній перегляд)
- **Story 4.3:** Магазин м'ячів (каталог, ціни, попередній перегляд)
- **Story 4.4:** Система покупок (перевірка балансу, збереження покупок)
- **Story 4.5:** Використання купленого екіпірування в грі

## Epic 5: UI/UX Polish & Audio

**Розширена мета:** Створити повний UI (головне меню, екрани результатів, профіль), додати звуки та музику, покращити візуальні ефекти.

**Stories:**
- **Story 5.1:** Головне меню (Старт, Магазин, Налаштування, Профіль)
- **Story 5.2:** Екран результату рівня (підсумок, кнопки навігації)
- **Story 5.3:** Профіль гравця (статистика, куплене екіпірування)
- **Story 5.4:** Звукові ефекти (удари, голі, влучання, промахи, монети)
- **Story 5.5:** Фонова музика в меню
- **Story 5.6:** Налаштування (гучність звуку/музики)
- **Story 5.7:** Візуальні ефекти та анімації (покращення)

## Epic 6: Documentation & Final Deployment

**Розширена мета:** Створити README з описом гри, системи винагород, технологій та інструкцією, налаштувати фінальний deployment.

**Stories:**
- **Story 6.1:** README.md (опис гри, система винагород, технології, інструкція локального запуску)
- **Story 6.2:** Фінальний deployment (працююче посилання, тестування в Chrome)
- **Story 6.3:** Підготовка матеріалів для презентації

## Next Steps

### UX Expert Prompt

Створи детальну UX специфікацію для Free Kick Master на основі цього PRD, зосереджуючись на 3D інтерфейсі, управлінні мишкою, та системі винагород.

### Architect Prompt

Створи технічну архітектуру для Free Kick Master на основі цього PRD, використовуючи Three.js для 3D рендерингу, монолітну клієнтську архітектуру, та localStorage для збереження прогресу.

